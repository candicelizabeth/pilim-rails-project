<div class="container">
  <div class="row">
    <div class="col">
      <!-- <div class="genre_padding">Filter by Genre</div> -->
      <%= form_with url: movies_path, method: :get do |form| %>
        <div class="form-group">
          <div class="d-flex flex-row">
            <!-- <%= form.collection_radio_buttons :genre_name, @movie_genres, :genre, :genre, class: "genre_radio_btns" %> -->
            <%= form.collection_select :genre_name, @movie_genres, :genre, :genre, {prompt: "Select genre"}, {class: "form-select genre_select"} %>
            <%= form.submit "Filter", name: nil, class: "btn movie_btn" %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="col">
      <%= form_tag movies_path, method: :get do %>
        <div class="form-group">
          <div class="d-flex flex-row">
            <%= search_field_tag :search, nil, placeholder: "Search by title", class: "form-control movie_search" %>
            <%= submit_tag "Search", name: nil, class: "btn movie_btn" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
<% if flash[:message] %>
  <%= render "application/flash_messages" %>
<% end %>
<% if params[:genre_name] || params[:search] %>
  <br>
  <%= render partial: "movie_results", locals: { term: @movies } %><br>
  <small>If you can't find the movie you're looking for, it's not in our database yet. <%= link_to "Click here to add it!", new_movie_path %></small><br>
<% else %>
  <h2>Newest Releases</h2>
  <%= render partial: "movie_results", locals: { term: @newest_movies } %>
<% end %>
